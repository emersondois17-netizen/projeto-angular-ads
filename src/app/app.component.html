<div class="min-h-screen bg-[#0f0c14] font-sans text-gray-100 flex flex-col selection:bg-purple-500/30">
  
    <nav [class]="'fixed top-0 w-full z-40 transition-all duration-300 ' + (isScrolled ? 'bg-[#0f0c14]/90 backdrop-blur-md border-b border-white/5 py-3' : 'bg-transparent py-6')">
     <div class="max-w-7xl mx-auto px-6 flex items-center justify-between gap-8">
        
        <a routerLink="/home" class="flex items-center gap-2 cursor-pointer group shrink-0">
           <div class="w-10 h-10 bg-gradient-to-tr from-purple-600 to-blue-600 rounded-lg flex items-center justify-center text-white font-black text-xl shadow-lg shadow-purple-500/20 group-hover:scale-110 transition-transform">Z</div>
           <span class="font-bold text-xl tracking-tight hidden md:block group-hover:text-white transition-colors">Zenkai<span class="text-purple-500">Play</span></span>
        </a>
 
        <div class="hidden md:flex flex-1 justify-center">
           <div class="flex items-center w-full max-w-sm h-10 bg-black/40 border border-white/10 rounded-full px-4 focus-within:border-purple-500 focus-within:bg-black/80 transition-all backdrop-blur-md">
              <lucide-icon [img]="icons.Search" [size]="18" class="text-white/40 mr-2 shrink-0"></lucide-icon>
              
              <input 
                type="text" 
                [(ngModel)]="query" 
                (keydown.enter)="handleSearch()"
                placeholder="Buscar animes..." 
                class="w-full bg-transparent border-none outline-none text-sm text-white placeholder:text-white/30 h-full"
              >
              
              @if (query) {
                <button (click)="clearSearch()" class="ml-2 text-white/40 hover:text-white flex items-center justify-center transition-colors">
                  <lucide-icon [img]="icons.X" [size]="14"></lucide-icon>
                </button>
              }
           </div>
        </div>
 
        <div class="flex items-center gap-1 md:gap-4 shrink-0">
           <a routerLink="/home" routerLinkActive="text-white bg-white/10" class="px-3 py-2 rounded-lg text-sm font-medium text-gray-400 hover:text-white transition-all">Home</a>
           <a routerLink="/favorites" routerLinkActive="text-white bg-white/10" class="px-3 py-2 rounded-lg text-sm font-medium text-gray-400 hover:text-white transition-all">Favoritos</a>
           <a routerLink="/diary" routerLinkActive="text-white bg-white/10" class="px-3 py-2 rounded-lg text-sm font-medium text-gray-400 hover:text-white transition-all">Diário</a>
           <a routerLink="/login" class="ml-2 bg-white text-black px-4 py-2 rounded-lg text-sm font-bold hover:bg-gray-200 transition-colors shadow-lg shadow-white/5 flex items-center justify-center">Entrar</a>
        </div>
     </div>
   </nav>
  
    <main class="flex-1 w-full pt-0">
       <router-outlet></router-outlet>
    </main>
  
    <footer class="relative mt-auto border-t border-white/10 bg-[#0a080d] overflow-hidden">
        
        <div class="absolute -top-24 -left-24 w-96 h-96 bg-purple-600/10 rounded-full blur-[128px] pointer-events-none"></div>
        <div class="absolute -bottom-24 -right-24 w-96 h-96 bg-blue-600/10 rounded-full blur-[128px] pointer-events-none"></div>
  
        <div class="max-w-7xl mx-auto px-6 py-16 relative z-10">
           <div class="grid grid-cols-1 md:grid-cols-12 gap-8 mb-16">
              
              <div class="md:col-span-4 space-y-6">
                 <a routerLink="/" class="flex items-center gap-2 cursor-pointer group w-fit">
                    <div class="w-10 h-10 bg-gradient-to-tr from-purple-600 to-blue-600 rounded-xl flex items-center justify-center text-white font-black text-xl shadow-lg shadow-purple-500/20 group-hover:scale-110 transition-transform duration-300">Z</div>
                    <span class="font-bold text-2xl tracking-tight text-white group-hover:text-purple-300 transition-colors">Zenkai<span class="text-purple-500">Play</span></span>
                 </a>
                 <p class="text-gray-400 text-sm leading-relaxed max-w-sm">
                    Sua plataforma definitiva para descobrir, rastrear e avaliar os melhores animes do mundo. Feito de fãs para fãs.
                 </p>
                 <div class="flex gap-4">
                    <div class="w-10 h-10 rounded-full bg-white/5 hover:bg-purple-600 hover:text-white text-gray-400 flex items-center justify-center transition-all cursor-pointer">
                       <lucide-icon name="code" [size]="18"></lucide-icon>
                    </div>
                    <div class="w-10 h-10 rounded-full bg-white/5 hover:bg-blue-600 hover:text-white text-gray-400 flex items-center justify-center transition-all cursor-pointer">
                       <lucide-icon name="users" [size]="18"></lucide-icon>
                    </div>
                 </div>
              </div>
  
              <div class="md:col-span-2 md:col-start-6">
                 <h4 class="text-white font-bold mb-6 text-lg">Plataforma</h4>
                 <ul class="space-y-4 text-sm text-gray-400">
                    <li><a routerLink="/home" class="hover:text-purple-400 transition-colors flex items-center gap-2 hover:translate-x-1 duration-300">Início</a></li>
                    <li><a routerLink="/favorites" class="hover:text-purple-400 transition-colors flex items-center gap-2 hover:translate-x-1 duration-300">Favoritos</a></li>
                    <li><a routerLink="/diary" class="hover:text-purple-400 transition-colors flex items-center gap-2 hover:translate-x-1 duration-300">Diário</a></li>
                 </ul>
              </div>
  
              <div class="md:col-span-4 md:col-start-9">
                 <h4 class="text-white font-bold mb-6 text-lg">Desenvolvedores</h4>
                 
                 <div class="bg-white/5 border border-white/5 rounded-2xl p-5 hover:border-purple-500/30 transition-colors group">
                    <ul class="space-y-3">
                       <li class="flex items-center gap-3">
                          <div class="w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center text-white text-xs font-bold shrink-0">EM</div>
                          <div>
                             <p class="text-white text-sm font-bold">Emerson Marques</p>
                             <p class="text-gray-500 text-xs">Fullstack Dev</p>
                          </div>
                       </li>
                       <li class="w-full h-px bg-white/5 my-1"></li>
                       <li class="flex items-center gap-3">
                          <div class="w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-cyan-600 flex items-center justify-center text-white text-xs font-bold shrink-0">MB</div>
                          <div>
                             <p class="text-white text-sm font-bold">Moises Barbosa</p>
                             <p class="text-gray-500 text-xs">Frontend Dev</p>
                          </div>
                       </li>
                    </ul>
                    <div class="mt-4 pt-3 border-t border-white/5 flex items-center justify-between text-xs">
                       <span class="text-gray-500">Unifacisa 2025</span>
                       <span class="text-purple-400 font-bold group-hover:text-purple-300">Projeto Web</span>
                    </div>
                 </div>
              </div>
  
           </div>
  
           <div class="border-t border-white/5 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-gray-500">
              <p>© 2025 ZenkaiPlay. Todos os direitos reservados.</p>
              <div class="flex gap-6">
                 <span class="hover:text-white cursor-pointer transition-colors">Privacidade</span>
                 <span class="hover:text-white cursor-pointer transition-colors">Termos</span>
              </div>
           </div>
        </div>
    </footer>
  
    @if (selectedAnime) {
       <app-modal 
          [anime]="selectedAnime" 
          [isFav]="store.isFav(selectedAnime.mal_id)"
          [isWatch]="store.isWatch(selectedAnime.mal_id)"
          (onClose)="closeModal()"
          (onToggleFav)="store.toggleFav(selectedAnime)"
          (onToggleWatch)="store.toggleWatch(selectedAnime)"
          (onSaveDiary)="store.addToDiary($event)">
       </app-modal>
    }
</div>